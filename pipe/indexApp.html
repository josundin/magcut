<!doctype html>

<html>
<head>

<meta charset="utf-8" />
  <title>STITCH APP</title>
  <style>
    #drop_zone {
      border: 2px dashed #bbb;
      -moz-border-radius: 5px;
      -webkit-border-radius: 5px;
      border-radius: 5px;
      padding: 25px;
      text-align: center;
      font: 20pt bold 'Vollkorn';
      color: #bbb;
    }

  #selectedFiles img {
    max-width: 250px;
    max-height: 250px;
    float: left;
    margin-bottom:10px;
    margin-left:10px;
  }

  </style>
    <link rel="stylesheet" href="../libs/twitter-bootstrap/bootstrap.min.css">
  </head>
<body>

<script type="text/javascript" src="../ext_js/jsfeat-min.js"></script>
<script type="text/javascript" src="../ext_js/numeric-1.2.6.min.js"></script>
<script type="text/javascript" src="../ext_js/norms.js"></script>
<script type="text/javascript" src="../ext_js/underscore-min.js"></script>
<script type="text/javascript" src="../ext_js/dat.gui.min.js"></script>
<script type="text/javascript" src="../js/findBlobs.js"></script>
<script type="text/javascript" src="../js/findDiff.js"></script>
<script type="text/javascript" src="../js/imagewarp.js"></script>
<script type="text/javascript" src="../js/blobMan.js"></script>
<script type="text/javascript" src="../js/interactMouse.js"></script>
<script type="text/javascript" src="../js/poisson.js"></script> 
<script type="text/javascript" src="../js/layout.js"></script>
<script type="text/javascript" src="../js/orbObj.js"></script>
<script type="text/javascript" src="../ext_js/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="../ext_js/profiler.js"></script>

  <div class="container">

    <header>
      <h1>Image Stitching - Web-tool</h1>
      <p>If you are new to this app or to panoramas and you have not yet seen the demo please do see the <strong> <a href="../demo/">Demo</a>
        </strong> first. <br>
        <a href="../">Back to index</a>
    </header>

    <div class="row">
      <div class="span12">
        <p>
          Stitch two or more images by File Browse: <input type="file" id="files" name="files" multiple accept="image/*"><br/>
        </p>
        <p>
          or Drop the images on the following box. The results will show up when computed.
        </p>
      </div>

    </div>
  
  <div id="drop_zone">Drop images here</div>

    <div class="row">
      <div class="span12">
        <div id="pre-stitch" style="display:none;">
          <h2>1 Selected images</h2>
          <p>

          </p>
        </div>
        <div id="selectedFiles" class="selectedFiles"></div>
      </div>
    </div>
    <div class="row">
      <div class="span12">
        <div id="pre-stitch2" style="display:none;">
          <p>
            <strong>You have selected the above images. Run the algorithm to <button type="button" onclick="start();" class="btn btn-primary" id="example-images">stitch the images</button>
            </strong> Or Select new ones. 
          </p>
        </div>
      </div> 
    </div>

    <div class="row" id="stitching" style="display:none;">

      <div class="span12">

        <h2>Now stitching! :</h2>
        <p>
          Time to compute depend on your device and your browser all computation are done in JavaScript in your browsern.
        </p>
      </div>
    </div>

  <div class="row" id="poststitch" style="display:none;">
    <div class="col-md-8">
        <div id="tmpCanvas" ></div> 
        <h2>Select reference view</h2>
        <div id="selectViewContainer"></div>
    </div>
    <div class="col-md-4">
      Scroll inside the images to select a reference view
      <div id="ComputingBlobs" style="display:none;">
        <h2>Computing Differences: </h2>  
      </div>
    </div>
  </div>

  <!-------------------------------------------------------------->
  <div id="blobInterface" class="row" style="display:none;">
    <div class="col-md-8">
      <p>The fuond blobs</p> <br>
      Select the colored regions by click them to blend
      <div id="blobs"></div>
    </div>

    <div class="col-md-4">
      <p>Threshold interface</p>
      <div id="thresblobs"></div>
      <br> <br>
            When the regions are selected, click 
        <button name="adjustBtn" onclick="blend()">HERE</button>

        <br> <br>
            Or select new reference view, click 
        <button name="adjustBtn" onclick="resetView()">VIEW</button>

    </div>
  </div>

  <div class="row">
    <div class="col-md-8">
      <div id="final-canvas"></div> 
    </div>
    <div class="col-md-4">
      <div id="btn1"></div>
    </div>
  </div>

  </div>
<script type="text/javascript" src="../js/selectview.js" ></script>
<script type="text/javascript" src="common.js"></script>
<script type="text/javascript" src="mainApp.js"></script>

</body>
</html>
